{% block content %}
<h2>Ø¥Ù†Ø´Ø§Ø¡ Ù…Ù†Ø´ÙˆØ± Ø¬Ø¯ÙŠØ¯</h2>

<form method="POST" enctype="multipart/form-data">
    {% csrf_token %}
    
    <label for="post_type">Ù†ÙˆØ¹ Ø§Ù„Ù…Ù†Ø´ÙˆØ±:</label>
    <select name="post_type" id="post_type" onchange="toggleForm()">
        <option value="general">ğŸ“„ Ù…Ù†Ø´ÙˆØ± Ø¹Ø§Ø¯ÙŠ</option>
        <option value="job">ğŸ’¼ Ù…Ù†Ø´ÙˆØ± ÙˆØ¸ÙŠÙÙŠ</option>
    </select>

    <!-- Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø­Ù‚ÙˆÙ„ -->
    <div id="form_fields">
        {{ form.as_p }}
        <button type="submit">Ù†Ø´Ø±</button>
    </div>
</form>

<!-- Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„ÙˆØ¸ÙŠÙÙŠØ© ÙÙ‚Ø· Ø¹Ù†Ø¯ Ø§Ø®ØªÙŠØ§Ø± "ÙˆØ¸ÙŠÙØ©" -->
<script>
    function toggleForm() {
        let postType = document.getElementById("post_type").value;
        let jobFields = document.querySelectorAll('[name="job_title"], [name="company_name"], [name="job_description"], [name="job_file"]');

        jobFields.forEach(field => {
            field.closest("p").style.display = (postType === "job") ? "block" : "none";
        });
    }

    document.addEventListener("DOMContentLoaded", toggleForm);
</script>
{%Â endblockÂ %}
